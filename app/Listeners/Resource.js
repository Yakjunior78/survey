'use strict';const { publish } = use('App/Services/Messaging/RedisPubSubHandler');const InstanceModel = use('App/Models/Instance');const Dispatch = new(use('App/Services/Survey/Dispatch'))();const Resource = exports = module.exports = {}Resource.deduct = async (data) => {    let parsedData = JSON.parse(data);    let instance = parsedData.data;    try {        let SurveyInstance = await InstanceModel.find(instance.id);        SurveyInstance.billed = true;        await SurveyInstance.save();        console.log('SEND SURVEY STEP 3: resources deducted!');        return await Dispatch.handle(SurveyInstance);    } catch (e) {        console.log('ERROR OCCURRED: ', e.message);    }}